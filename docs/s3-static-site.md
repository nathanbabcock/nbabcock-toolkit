## Assumptions

- Site is statically generated by **Next.js**

## First-time Setup

### S3

- [ ] Create S3 bucket
	- [ ] Enable public access
	- [ ] Enable static site hosting
	- [ ] Add bucket policy like:
```json
{
    "Version": "2008-10-17",
    "Id": "Policy1547311985882",
    "Statement": [
        {
            "Sid": "Stmt1548311884279",
            "Effect": "Allow",
            "Principal": "*",
            "Action": "s3:GetObject",
            "Resource": "arn:aws:s3:::hypetrigger-site/*"
        }
    ]
}
```


### ACM

- [ ] Create (free) public cert
- [ ] Deploy Route53 record for domain name and wait for automatic validation
 
### CloudFront

- [ ] Create a deployment with the origin as the **public URL** of the s3 bucket
- [ ] Add cert from ACM
- [ ] Add alternate domain name after adding cert

## Route53

- [ ] Quick create record/Edit existing type A record
	- [ ] Alias=true
	- [ ] Alias to CloudFront distribution
	- [ ] Choose distribution
## Next.js

- [ ] Add `trailingSlash: true` to `next.config.js`

## Deployment/updates

- [ ] **Locally** run `pnpm export`
- [ ] Use `aws s3 sync` to upload contents of `out` folder to bucket